<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: rubilicious.rb</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>rubilicious.rb</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>rubilicious.rb
        &nbsp;(<a href="http://cvs.pablotron.org/cgi-bin/viewcvs.cgi/rubilicious/rubilicious.rb"><acronym title="Concurrent Versioning System">CVS</acronym></a>)
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Thu Jun 21 02:25:50 +0100 2007</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
<a href="../classes/Rubilicious.html">Rubilicious</a> - Delicious (<a
href="http://del.icio.us">del.icio.us</a>/) bindings for Ruby. # by Paul
Duncan &lt;pabs@pablotron.org&gt; #
</p>
<pre>
                                                                    #
                                                                    #
</pre>
<p>
For the latest version of this software, Please see the <a
href="../classes/Rubilicious.html">Rubilicious</a> # page at <a
href="http://pablotron.org/software/rubilicious">pablotron.org/software/rubilicious</a>/.
#
</p>
<pre>
                                                                    #
                                                                    #
</pre>
<p>
Copyright (C) 2004-2006 Paul Duncan (pabs@pablotron.org). #
</p>
<pre>
                                                                    #
</pre>
<p>
Permission is hereby granted, free of charge, to any person # obtaining a
copy of this software and associated documentation # files (the
&quot;Software&quot;), to deal in the Software without # restriction,
including without limitation the rights to use, copy, # modify, merge,
publish, distribute, sublicense, and/or sell copies # of the Software, and
to permit persons to whom the Software is # furnished to do so, subject to
the following conditions: #
</p>
<pre>
                                                                    #
</pre>
<p>
The above copyright notice and this permission notice shall be # included
in <a href="rubilicious_rb.html#M000039">all</a> copies of the Software,
its documentation and # marketing &amp; publicity materials, and
acknowledgment shall be given # in the documentation, materials and
software packages that this # Software was used. #
</p>
<pre>
                                                                    #
</pre>
<p>
THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, #
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF #
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND # NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY # CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF # CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION # WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE. #
</p>

    </div>

    <div id="requires-list">
      <h3 class="section-bar">Required files</h3>

      <div class="name-list">
      cgi&nbsp;&nbsp;
      uri&nbsp;&nbsp;
      time&nbsp;&nbsp;
      net/http&nbsp;&nbsp;
      rexml/document&nbsp;&nbsp;
      win32/registry&nbsp;&nbsp;
      </div>
    </div>

   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000035">add</a>&nbsp;&nbsp;
      <a href="#M000039">all</a>&nbsp;&nbsp;
      <a href="#M000046">all_bundles</a>&nbsp;&nbsp;
      <a href="#M000045">all_posts</a>&nbsp;&nbsp;
      <a href="#M000040">bundles</a>&nbsp;&nbsp;
      <a href="#M000030">dates</a>&nbsp;&nbsp;
      <a href="#M000036">delete</a>&nbsp;&nbsp;
      <a href="#M000042">delete_bundle</a>&nbsp;&nbsp;
      <a href="#M000024">find_http_proxy</a>&nbsp;&nbsp;
      <a href="#M000026">get</a>&nbsp;&nbsp;
      <a href="#M000028">h</a>&nbsp;&nbsp;
      <a href="#M000025">http_get</a>&nbsp;&nbsp;
      <a href="#M000029">new</a>&nbsp;&nbsp;
      <a href="#M000032">posts</a>&nbsp;&nbsp;
      <a href="#M000033">recent</a>&nbsp;&nbsp;
      <a href="#M000037">rename</a>&nbsp;&nbsp;
      <a href="#M000044">rename_tag</a>&nbsp;&nbsp;
      <a href="#M000041">set_bundle</a>&nbsp;&nbsp;
      <a href="#M000031">tags</a>&nbsp;&nbsp;
      <a href="#M000043">to_xbel</a>&nbsp;&nbsp;
      <a href="#M000027">u</a>&nbsp;&nbsp;
      <a href="#M000034">update</a>&nbsp;&nbsp;
      <a href="#M000038">update</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">PROXY_ENV_VARS</td>
          <td>=</td>
          <td class="context-item-value">%w{RUBILICIOUS_HTTP_PROXY HTTP_PROXY http_proxy}</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
list of environment variables to check for HTTP proxy

</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000029.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000029.html');return false;">
          <span class="method-name">new</span><span class="method-args">(user, pass, opt = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Connect to Delicious with username &#8216;user&#8217; and password
&#8216;pass&#8217;.
</p>
<p>
Note: if the username or password is incorrect, <a
href="../classes/Rubilicious.html">Rubilicious</a> will not raise an
exception until you make an actual call.
</p>
<p>
Examples:
</p>
<pre>
  # connect to delicious with as 'pabs' with the password 'password'
  r = Rubilicious.new('pabs', 'password')

  # connect to delicious, but never check for an HTTP proxy
  r = Rubilicious.new('pabs', 'password', {'use_proxy' =&gt; false})
</pre>
<p>
Options: <a href="../classes/Rubilicious.html">Rubilicious</a> also accepts
several optional parameters in the opt Hash. Here&#8216;s a list of the
supported keys:
</p>
<ul>
<li>use_proxy: Check for HTTP proxy environment variables, and use HTTP proxy
if any are set. (default: true)

</li>
<li>base_uri: URI to Delicious API. Best not to touch this one unless you know
what you&#8216;re doing. (default: &#8216;<a
href="https://api.del.icio.us/v1">api.del.icio.us/v1</a>&#8217;)

</li>
<li>user_agent: User Agent string to pass to Delicious in each HTTP request.
(default: &#8216;<a
href="../classes/Rubilicious.html">Rubilicious</a>/VERSION
Ruby/VERSION&#8217;)

</li>
<li>ssl_verify: Enable SSL certificate validation/verification. <a
href="../classes/Rubilicious.html">Rubilicious</a> will verify the issuer
of the server-side certificate against the list of trusted certificates.
You can customize this behavior; see below for more information.

</li>
<li>ssl_cert_path: Override the default SSL certificate directory. If this
isn&#8216;t set, <a href="../classes/Rubilicious.html">Rubilicious</a>
checks the environment variables RUBILICIOUS_SSL_CERT_DIR and SSL_CERT_DIR.
If neither of those are set, <a
href="../classes/Rubilicious.html">Rubilicious</a> uses OpenSSL&#8216;s
built-in default.

</li>
<li>ssl_init: Callback proc to use for SSL initialization. See &quot;SSL
Options&quot; below for more information.

</li>
<li>ssl_init_http: Callback proc to use for initializing each HTTPS connection.
See &quot;SSL Options&quot; below for more information.

</li>
</ul>
<p>
SSL Options: By default, <a
href="../classes/Rubilicious.html">Rubilicious</a> does no server-side
certificate validation. This is deliberate; I&#8216;m not sure how
reasonable each platform&#8216;s OpenSSL configuration is, and I&#8216;m
also not sure how complete each platform&#8216;s root certificate list is.
If you&#8216;re sure your platform is configured properly, you can enable
server-side certificate verification using the &#8216;ssl_verify&#8217;
option, like so:
</p>
<pre>
  # enable SSL certificate verification
  r = Rubilicious.new(user, pass, 'ssl_verify' =&gt; true)
</pre>
<p>
If you keep your list of root certificates in a directory other than the
OpenSSL default, you can override the path by setting the
&#8216;ssl_cert_path&#8217; option, or the RUBILICIOUS_SSL_CERT_DIR or
SSL_CERT_DIR environment variables (they&#8216;re checked in that order).
If none of those are set, <a
href="../classes/Rubilicious.html">Rubilicious</a> falls back to
OpenSSL&#8216;s built-in certificate directory.
</p>
<p>
If you need more elaborate SSL verification &#8212; to use OSCP or check a
CRL, for example &#8212; you can use the &#8216;ssl_init&#8217; and
&#8216;ssl_init_http&#8217; callbacks. The former is called once when an
instance of <a href="../classes/Rubilicious.html">Rubilicious</a> is
initialized, and the latter is called for each HTTPS connection.
Here&#8216;s an example of using the &#8216;ssl_init&#8217; and
&#8216;ssl_init_http&#8217; callbacks:
</p>
<p>
# create certificate store, set verify mode x509_store =
OpenSSL::X509::Store.new
x509_store.add_path(OpenSSL::X509::DEFAULT_CERT_DIR) verify_mode =
OpenSSL::SSL::VERIFY_PEER
</p>
<pre>
  # define rubilicious callbacks
  rb_opts = {
    # ssl init callback (called once per instance)
    'ssl_init' =&gt; proc { |rb, opt|
      cert_path = opt['ssl_cert_path'] ||
                  ENV['RUBILICIOUS_SSL_CERT_DIR'] ||
                  ENV['SSL_CERT_DIR'] ||
                  OpenSSL::X509::DEFAULT_CERT_DIR
      x509_store.add_path(cert_path)

    },

    # http init callback (called once per HTTPS connection)
    'ssl_init_http' =&gt; proc { |rb, http|
      http.use_ssl = true
      http.verify_mode = verify_mode
      http.cert_store = x509_store
    },
  }

  # create rubilicious object
  rb = Rubilicious.new(user, pass, rb_opts)
</pre>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000035.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000035.html');return false;">
          <span class="method-name">add</span><span class="method-args">(url, desc, ext = '', tags = '', time = Time.now, replace = false, is_private = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Post a link to delicious, along with an optional extended description, <a
href="rubilicious_rb.html#M000031">tags</a> (as a space-delimited list),
and a timestamp.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # add a link to pablotron to delicious
  r.add('http://pablotron.org/',
        'Pablotron.org : The most popular site on Internet?')

  # add a link to paulduncan.org to delicious with an extended
  # description
  r.add('http://paulduncan.org/', &quot;Paul Duncan&quot;, &quot;Damn he's smooth!&quot;)

  # add a link with an extended description and some tags
  r.add('http://raggle.org/',
        'Raggle', 'Console RSS Aggregator, written in Ruby.',
        'rss programming ruby console xml')
</pre>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000039.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000039.html');return false;">
          <span class="method-name">all</span><span class="method-args">(tag = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return an array of <a href="rubilicious_rb.html#M000039">all</a> your <a
href="rubilicious_rb.html#M000032">posts</a> ever, optionally filtered by
tag.
</p>
<p>
Note: you should check the last <a
href="rubilicious_rb.html#M000034">update</a> time with Rubilicious#update
to see when the last post was made (ie, if calling this is even necessary).
</p>
<p>
WARNING: This method can generate a large request to Delicious, and should
be used sparingly, and at your own risk.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # save all 'art' posts to file &quot;art_posts.txt&quot;
  art_posts = r.all('art')
  File.open('art_posts.txt', 'w') do |file|
    file.puts art_posts.sort do |a, b|
      a['time'] &lt;=&gt; b['time']
    end.map { |post| post['href'] }
  end
</pre>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <span class="method-name">all_bundles</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="rubilicious_rb.html#M000040">bundles</a>
</p>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <span class="method-name">all_posts</span><span class="method-args">(tag = nil)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="rubilicious_rb.html#M000039">all</a>
</p>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000040.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000040.html');return false;">
          <span class="method-name">bundles</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return an array of tag <a href="rubilicious_rb.html#M000040">bundles</a>.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # get a list of tag bundles
  bundles = r.bundles
</pre>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000030.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000030.html');return false;">
          <span class="method-name">dates</span><span class="method-args">(tag = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a list of <a href="rubilicious_rb.html#M000030">dates</a> with the
number of <a href="rubilicious_rb.html#M000032">posts</a> at each date. If
a tag is given, return a list of <a
href="rubilicious_rb.html#M000030">dates</a> with the number of <a
href="rubilicious_rb.html#M000032">posts</a> with the specified tag at each
date.
</p>
<p>
Raises an exception on error.
</p>
<p>
Examples:
</p>
<pre>
  dates = r.dates
  puts &quot;date,count&quot;
  dates.keys.sort.each do |date|
    puts &quot;#{date},#{dates[date]}&quot;
  end

  # same as above, but only display 'politics' tags
  dates = r.dates('politics')
  puts &quot;date,count&quot;,
       dates.map { |args| args.join(',') }.join(&quot;\n&quot;)
</pre>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000036.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000036.html');return false;">
          <span class="method-name">delete</span><span class="method-args">(url)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Delete a link from Delicious.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # delete a link to example.com from delicious
  r.delete('http://example.com/')
</pre>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000042.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000042.html');return false;">
          <span class="method-name">delete_bundle</span><span class="method-args">(bundle)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Delete a tag bundle.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # delete the tag bundle 'testbundle'
  r.delete_bundle('testbundle')
</pre>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000024.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000024.html');return false;">
          <span class="method-name">find_http_proxy</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="rubilicious_rb.html#M000026">get</a> the HTTP proxy server and
port from the environment Returns [nil, nil] if a proxy is not set
</p>
<p>
This method is private
</p>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000026.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000026.html');return false;">
          <span class="method-name">get</span><span class="method-args">(url, elem = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get url from Delicious, and optionally parse result and return as an array
of hashes as well.
</p>
<p>
This method is private.
</p>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000028.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000028.html');return false;">
          <span class="method-name">h</span><span class="method-args">(str)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Escape a string to make it XML-friendly.
</p>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000025.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000025.html');return false;">
          <span class="method-name">http_get</span><span class="method-args">(url)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Low-level HTTP GET.
</p>
<p>
This method is private.
</p>
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000032.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000032.html');return false;">
          <span class="method-name">posts</span><span class="method-args">(date = nil, tag = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array of <a href="rubilicious_rb.html#M000032">posts</a> on a
given date, filtered by tag. If no date is supplied, most <a
href="rubilicious_rb.html#M000033">recent</a> date will be used.
</p>
<p>
Raises an exception on error.
</p>
<p>
Examples:
</p>
<pre>
  # print out a list of recent links from oldest to newest.
  posts = r.posts
  posts.sort { |a, b| a['time'] &lt;=&gt; b['time'] }.each do |post|
    puts post['href']
  end

  # print out a list of link descriptions from the date '2004-09-22'
  posts = r.posts('2004-09-22')
  posts.sort { |a, b| a['description'] &lt;=&gt; b['description'] }
  posts.each { |post| puts post['description'] }
</pre>
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000033.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000033.html');return false;">
          <span class="method-name">recent</span><span class="method-args">(tag = nil, count = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an array of the most <a
href="rubilicious_rb.html#M000033">recent</a> <a
href="rubilicious_rb.html#M000032">posts</a>, optionally filtered by tag.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # get the most recent links
  recent_links = r.recent.map { |post| post['href'] }

  # get the 10 most recent 'music' links
  recent_links = r.recent('music', 10).map { |post| post['href'] }
</pre>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000037.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000037.html');return false;">
          <span class="method-name">rename</span><span class="method-args">(old_tag, new_tag)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renames <a href="rubilicious_rb.html#M000031">tags</a> across <a
href="rubilicious_rb.html#M000039">all</a> <a
href="rubilicious_rb.html#M000032">posts</a>.
</p>
<p>
Note: Delicious has currently disabled this feature, so it will not work
until they reenable it.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # rename tag &quot;rss&quot; to &quot;xml&quot;
  r.rename('rss', 'xml')
</pre>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <span class="method-name">rename_tag</span><span class="method-args">(old_tag, new_tag)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="rubilicious_rb.html#M000037">rename</a>
</p>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000041.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000041.html');return false;">
          <span class="method-name">set_bundle</span><span class="method-args">(bundle, tags)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set (create or replace) a tag bundle.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # set the tags for the tag bundle 'testbundle' to 'ruby programming'.
  r.set_bundle('testbundle', 'ruby programming)
</pre>
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000031.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000031.html');return false;">
          <span class="method-name">tags</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a hash of <a href="rubilicious_rb.html#M000031">tags</a> and the
number of times they&#8216;ve been used.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  tags = r.tags
  puts tags.keys.sort.map { |tag| &quot;#{tag},#{tags[tag]}&quot; }.join(&quot;\n&quot;)
</pre>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000043.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000043.html');return false;">
          <span class="method-name">to_xbel</span><span class="method-args">(tag = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return an XBEL string of <a href="rubilicious_rb.html#M000039">all</a> your
<a href="rubilicious_rb.html#M000032">posts</a>, optionally filtered by
tag.
</p>
<p>
Note: This is <em>not</em> the same as calling <a
href="../classes/Rubilicious.html#M000047">Rubilicious.xbel</a>. Please see
the documentation for <a
href="../classes/Rubilicious.html#M000047">Rubilicious.xbel</a> for more
information.
</p>
<p>
WARNING: This method can generate a large number of requests to Delicious,
and could be construed as abuse. Use sparingly, and at your own risk.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # save all posts ever in XBEL format to file &quot;delicious.xbel&quot;
  File.open('delicious.xbel', 'w') do |file|
    file.puts r.to_xbel
  end
</pre>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000027.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000027.html');return false;">
          <span class="method-name">u</span><span class="method-args">(str)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
URI-escape a string.
</p>
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000034.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000034.html');return false;">
          <span class="method-name">update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the last <a href="rubilicious_rb.html#M000034">update</a> time for
this user.
</p>
<p>
Note: this method <em>must</em> be called before you call Rubilicious#all.
</p>
<p>
Raises an exception on error.
</p>
<p>
Example:
</p>
<pre>
  # get the last update time for this user
  update_time = r.update
</pre>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="rubilicious_rb.src/M000038.html" target="Code" class="method-signature"
            onclick="popupCode('rubilicious_rb.src/M000038.html');return false;">
          <span class="method-name">update</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the last <a href="rubilicious_rb.html#M000034">update</a> time.
</p>
<p>
Note: this method should be used before calling methods like .<a
href="rubilicious_rb.html#M000032">posts</a> or .<a
href="rubilicious_rb.html#M000039">all</a> to conserve on bandwidth.
</p>
<p>
Example:
</p>
<pre>
 t = r.update  #=&gt; &quot;Fri Mar 11 02:45:51 EST 2005&quot;
</pre>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>